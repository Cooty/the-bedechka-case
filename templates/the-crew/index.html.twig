{% extends 'base.html.twig' %}

{% block title %}{{ 'navigation.crew'|trans }} - {{ 'site.name'|trans }}{% endblock %}

{% set heroTitle = {'mainTitle': 'crew.title', 'subTitle': 'crew.subtitle'} %}
{% set heroContent = include('./includes/hero/title-and-subtitle.html.twig', heroTitle) %}

{% block stylesheets %}
    {{ parent() }}

    {% for css in encore_entry_css_files('critical-path-subpages') %}
        <style>
            {{ get_asset_content(css)|raw }}
        </style>
    {% endfor %}

    {% include('./includes/hero/background-style.html.twig') with {'background': 'crew'} only %}

    {% for css in encore_entry_css_files('the-crew') %}
        {% include('includes/async-css.html.twig') with {
            style_path: asset(css)
        } %}
    {% endfor %}
{% endblock %}

{% block main %}
    {% include('./includes/hero.html.twig') with {'content': heroContent} only %}

    {% if crew_members is defined and crew_members|length %}
        <ul class="box-grid pull-over-hero">
            {% for member in crew_members %}
                {% dump(loop.first) %}
                {% include('./the-crew/partials/item.html.twig') with {
                    avatar: member.pictureUrl,
                    name: member.name,
                    title: member.title,
                    url: member.link,
                    urlLabel: member.linkLabel,
                    isLazy: loop.first ? false : true
                } only %}
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}