<!doctype html>
{% spaceless %}
<html lang="{{ app.request.get('_locale') }}" dir="ltr">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        {% include './includes/canonical.html.twig' %}
        <title>{% block title %}{{ 'site.name'|trans }}{% endblock %}</title>

        {% include './includes/site-icons.html.twig' %}

{#        TODO: Add dynamic meta description and open graph meta tags#}

        {% block stylesheets %}
            {# TODO: Add async loading strategy with embeded font and JS loading #}
            <link href="https://fonts.googleapis.com/css?family=Playfair+Display:900|Roboto:400,500" rel="stylesheet">
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascript_config %}
        {% endblock %}

        {% block javascripts %}
            <script id="loadCSS">
                !function(c){"use strict";var e=function(e,t,n,r){var o,i=c.document,a=i.createElement("link");if(t)o=t;else{var d=(i.body||i.getElementsByTagName("head")[0]).childNodes;o=d[d.length-1]}var f=i.styleSheets;if(r)for(var l in r)r.hasOwnProperty(l)&&a.setAttribute(l,r[l]);a.rel="stylesheet",a.href=e,a.media="only x",function e(t){if(i.body)return t();setTimeout(function(){e(t)})}(function(){o.parentNode.insertBefore(a,t?o:o.nextSibling)});var s=function(e){for(var t=a.href,n=f.length;n--;)if(f[n].href===t)return e();setTimeout(function(){s(e)})};function u(){a.addEventListener&&a.removeEventListener("load",u),a.media=n||"all"}return a.addEventListener&&a.addEventListener("load",u),(a.onloadcssdefined=s)(u),a};"undefined"!=typeof exports?exports.loadCSS=e:c.loadCSS=e}("undefined"!=typeof global?global:this);
            </script>
            <script id="onloadCSS">
                function onloadCSS(n,a){var t;function d(){!t&&a&&(t=!0,a.call(n))}n.addEventListener&&n.addEventListener("load",d),n.attachEvent&&n.attachEvent("onload",d),"isApplicationInstalled"in navigator&&"onloadcssdefined"in n&&n.onloadcssdefined(d)}
            </script>
            {% for js in encore_entry_js_files('app') %}
                <script src="{{ asset(js) }}" async></script>
            {% endfor %}
        {% endblock %}
    </head>
    <body>
        {% include './includes/header.html.twig' %}
        <main class="main">
            {% block main %}{% endblock %}
        </main>
        {% include './includes/footer.html.twig' %}
    </body>
</html>
{% endspaceless %}
