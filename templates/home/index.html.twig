{% extends 'base.html.twig' %}

{% block title %}
    The Bedechka Case Documentary Project - It's more then just parks we're losing
{% endblock %}

{% set heroContent = include('./home/partials/hero-content.html.twig') %}

{% block stylesheets %}
    {{ parent() }}
    {% include('./includes/hero/background-style.html.twig') with {'background': 'home'} only %}
{% endblock %}

{% block main %}
    {% include('./includes/hero.html.twig') with {'modifierCSSClassName': 'hero--tall', 'content': heroContent} only %}
    {% include('./home/partials/the-problem.html.twig') %}
    {% include('./home/partials/the-vision.html.twig') %}
    {% include('./home/partials/in-the-press.html.twig') %}
{% endblock %}

{% block javascript_config %}
    <script>
        var _config = window._config || {};

        _config.mapboxAccessToken = "{{ map_box_token }}";
        _config.mapCaseApiUrl = "{{ path('api_map_cases', {'locale': app.request.get('_locale')}) }}";
        _config.mapCaseEndpointToken = "{{ csrf_token('map-cases') }}";

        if(Object.freeze) {
            Object.freeze(_config);
        }
    </script>
{% endblock %}

{% block preconectLinks %}
    {{ parent() }}
    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://unpkg.com/'} only %}
    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://api.tiles.mapbox.com/'} only %}
{% endblock %}