{% extends 'base.html.twig' %}

{% block title %}
    {{'site.name'|trans}} - {{ 'site.tagline'|trans }}
{% endblock %}

{% set heroContent = include('./home/partials/hero-content.html.twig') %}

{% block stylesheets %}
    {{ parent() }}
    {% include('./includes/hero/background-style.html.twig') with {'background': 'home'} only %}
    {{ encore_entry_link_tags('home') }}
    {{ encore_entry_link_tags('yt') }}
{% endblock %}

{% block main %}
    {% include('./includes/hero.html.twig') with {'modifierCSSClassName': 'hero--tall', 'content': heroContent} only %}
    {% include('./home/partials/the-problem.html.twig') %}
    {% include('./home/partials/the-vision.html.twig') %}
    {% include('./home/partials/in-the-press.html.twig') %}
{% endblock %}

{% block javascript_config %}
    {{ render_esi(controller('App\\Controller\\HomeController::jsConfig')) }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% for js in encore_entry_js_files('home') %}
        <script src="{{ asset(js) }}" defer></script>
    {% endfor %}

    {% for js in encore_entry_js_files('yt') %}
        <script src="{{ asset(js) }}" defer></script>
    {% endfor %}
{% endblock %}

{% block preconectLinks %}
    {{ parent() }}
    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://unpkg.com/'} only %}

    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://api.tiles.mapbox.com/'} only %}

    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://ytimg.com'} only %}

    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://www.youtube.com'} only %}

    {% include('./includes/preconnect-prefetch-links.html.twig')
        with {'domain': 'https://www.youtube-nocookie.com'} only %}
{% endblock %}